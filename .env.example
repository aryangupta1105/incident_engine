# ============================================
# INCIDENT MANAGEMENT SYSTEM
# Environment Variables Configuration
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control
# ============================================

# ============================================
# APPLICATION
# ============================================

# Node environment (development, staging, production)
NODE_ENV=development

# Server port
PORT=3000

# ============================================
# DATABASE (PostgreSQL via Supabase/PgBouncer)
# ============================================

# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# Example: postgresql://user:pass123@localhost:5432/incident_mgmt
DATABASE_URL=postgresql://user:password@localhost:5432/incident_management

# ============================================
# REDIS (Message Queue & Caching)
# ============================================

# Redis host
REDIS_HOST=localhost

# Redis port
REDIS_PORT=6379

# Redis password (optional, leave empty if no auth)
REDIS_PASSWORD=

# Redis database number (0-15)
REDIS_DB=0

# ============================================
# GOOGLE CALENDAR API (OAuth2)
# ============================================

# Google OAuth 2.0 Client ID
# Get from: https://console.cloud.google.com/credentials
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com

# Google OAuth 2.0 Client Secret
# Get from: https://console.cloud.google.com/credentials
GOOGLE_CLIENT_SECRET=your-client-secret

# Google OAuth 2.0 Redirect URI
# Should match the URI configured in Google Cloud Console
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# ============================================
# LOGGING & MONITORING
# ============================================

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable detailed request logging
DEBUG_REQUESTS=false

# ============================================
# EMAIL NOTIFICATIONS (Future Use)
# ============================================

# SMTP Server host
SMTP_HOST=smtp.gmail.com

# SMTP Server port
SMTP_PORT=587

# SMTP username/email
SMTP_USER=your-email@gmail.com

# SMTP password or app-specific password
SMTP_PASSWORD=your-app-password

# Email "from" address
EMAIL_FROM=noreply@incidentmanagement.com

# ============================================
# TWILIO (SMS/Phone Notifications - Future Use)
# ============================================

# Twilio Account SID
TWILIO_ACCOUNT_SID=your-account-sid

# Twilio Auth Token
TWILIO_AUTH_TOKEN=your-auth-token

# Twilio Phone Number (from)
# Twilio phone number used for outbound calls
# Must be a purchased Twilio number (not verified personal number)
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# WEBHOOK CONFIGURATION (For Twilio & External Services)
# ============================================

# Base URL for webhook endpoints
# REQUIRED for Twilio voice reminders (must be publicly accessible)
# Examples:
#   - Local development with ngrok: https://abc-123.ngrok-free.dev
#   - Production: https://your-domain.com
# DO NOT use localhost or 127.0.0.1 - Twilio rejects non-public URLs
BASE_URL=https://your-ngrok-url.ngrok-free.dev

# ============================================
# SLACK INTEGRATION (Future Use)
# ============================================

# Slack Webhook URL for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url

# Slack Bot Token (if using bot instead of webhook)
SLACK_BOT_TOKEN=xoxb-your-bot-token

# ============================================
# SYSTEM CONFIGURATION
# ============================================

# Max concurrent database connections
DB_POOL_MAX=10

# Database connection idle timeout (ms)
DB_IDLE_TIMEOUT=30000

# Database connection timeout (ms)
DB_CONNECTION_TIMEOUT=5000

# Alert delivery worker enabled
ALERT_DELIVERY_ENABLED=true

# Escalation worker enabled
ESCALATION_WORKER_ENABLED=true

# Calendar sync interval in minutes (0 to disable)
CALENDAR_SYNC_INTERVAL=60

# ============================================
# SECURITY
# ============================================

# JWT Secret for authentication
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Session secret
SESSION_SECRET=your-session-secret-key

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com

# ============================================
# FEATURE FLAGS
# ============================================

# Enable Google Calendar integration
FEATURE_CALENDAR_ENABLED=true

# Enable escalation workflows
FEATURE_ESCALATION_ENABLED=true

# Enable manual check-ins
FEATURE_CHECKIN_ENABLED=false

# Enable SMS notifications
FEATURE_SMS_ENABLED=false

# Enable email notifications
FEATURE_EMAIL_ENABLED=true

# Enable Slack notifications
FEATURE_SLACK_ENABLED=false

# ============================================
# DEBUGGING & DEVELOPMENT
# ============================================

# Enable detailed SQL logging
DEBUG_SQL=false

# Enable API request/response logging
DEBUG_API=false

# Seed database with test data
SEED_TEST_DATA=false

# Skip OAuth token validation (dev only)
SKIP_OAUTH_VALIDATION=false
